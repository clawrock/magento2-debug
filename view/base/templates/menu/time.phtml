<?php /** @var \Magento\Framework\View\Element\Template $block */ ?>
<?php /** @var \ClawRock\Debug\Model\View\Menu $viewModel */ ?>
<?php $viewModel = $block->getViewModel(); ?>

<?php if ($viewModel->isActive($block->getCollectorName())): ?>
    <?php /** @var \ClawRock\Debug\Model\Collector\TimeCollector $collector */ ?>
    <?php $collector = $viewModel->getCollector($block->getCollectorName()); ?>
    <li class="request<?= $viewModel->isCurrentPanel($block->getCollectorName()) ? ' selected' : '' ?>">
        <a href="<?= $block->escapeUrl($viewModel->getProfilerUrl($block->getCollectorName())); ?>">
            <span class="label label-status-<?= /* @noEscape */ $collector->getStatus() ?>">
                <span class="icon">
                    <img src="<?= /* @noEscape */ $block->getViewFileUrl('ClawRock_Debug::images/collector/time.svg'); ?>"
                         alt="<?= $block->escapeHtmlAttr(__('Performance')); ?>"/>
                </span>
                <strong><?= $block->escapeHtml(__('Performance')); ?></strong>
                <span class="count">
                    <span><?= /* @noEscape */ $collector->getDuration() ?> ms</span>
                </span>
            </span>
        </a>
    </li>
<?php endif; ?>
